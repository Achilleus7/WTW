<!DOCTYPE HTML>
<html>
<head>
 <title>Weather</title>
 <style>
</style>
</head>

<body>
<center>
 <h2>Today's Weather</h2>
 
 <p><a href="index.html">Return to homepage.</a></p>

 <script>
    /*
    fetch('http://localhost:8080/weatherdata')
     .then(response => response.json());
     .then(json => console.log(json));

    */

	const queryString = window.location.search;
	const urlParams = new URLSearchParams(queryString);
	const zip = urlParams.get('zip');

	//get this weather information from server with functions based on zip code provided above
	const longitude = 0;
	const latitude = 0;
	const country = "";
	const timezone = 0;
	const sunrise = "";
	const sunset = "";
	const temp = 0;
	const highTemp = 0;
	const lowTemp = 0;
	const tempUnit = "";
	const feelsLike = 0;
	const feelsUnit = "";
	const humidity = 0;
	const windSpeed = 0;
	const windUnit = "";
	const precipMode = "";

	//variables for recommendations with default values
	const shortsRec = 75;
	const shirtRec = 75;
	const jacketRec = 60;
	const coatRec = 40;

	//document.getElementById("rec").innerHTML = "Hello";

	//displays current weather conditions
	document.write("<h3>Weather Conditions:</h3>");
	document.write("Sunrise: " + sunrise + "<br>");
	document.write("Sunset: " + sunset + "<br>");
	document.write("Current Temperature: " + temp + tempUnit + "<br>");
	document.write("High Temperature: " + highTemp + tempUnit + "<br>");
	document.write("Low Temperature: " + lowTemp + tempUnit + "<br>");
	document.write("Feels Like: " + feelsLike + feelsUnit + "<br>");
	document.write("Humidity: " + humidity + "%<br>");
	document.write("Wind: " + windSpeed + " " + windUnit + "<br>");
	document.write("Precipitation: " + precipMode + "<br>");

	//displays recommendations
	document.write("<br><h3>Today's Recommendations:</h3>");
	if (highTemp >= shortsRec) {
		document.write("Shorts/T-shirt<br>");
	}
	else {
		document.write("Pants<br>");
	}

	if (highTemp >= shirtRec) {
		document.write("T-shirt<br>");
	}
	else {
		document.write("Long sleeve shirt<br>");
	}

	if (lowTemp <= jacketRec && lowTemp > coatRec) {
		document.write("Sweater/Jacket<br>");
	}
	else if (lowTemp >= coatRec) {
		document.write("Coat<br>");
	}
	
	//adjust this based on how precipMode is returned from the server
	/*
	if (precipMode == "rain") {
		document.write("Umbrella<br>");
	}
	else if (precipMode == "snow")
		document.write("Snow boots<br>");
	}
	*/
 
 </script>
 <p id="rec"></p>

 <br><br><hr>
 <p>Create an account to make your own settings for clothing recommendations!</p>
 <p>Create a <a href="signuppage.html">new account</a>.</p>
 <p>Already have an account? <a href="loginpage.html">Login</a></p>
	
 </form>
	
</center>
</body>
</html>
